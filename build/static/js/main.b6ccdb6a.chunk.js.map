{"version":3,"sources":["services/phones.js","components/Notification.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["BASE_URL","phonesService","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","id","delete","updatePerson","updatedObject","put","Notification","message","text","action","style","className","Filter","setShowAll","onChange","e","target","value","PersonForm","persons","setNewRequest","handleNotification","useState","newName","setNewName","newPhone","setNewPhone","onSubmit","preventDefault","personObject","name","number","personExist","find","person","toLowerCase","numberExist","alert","window","confirm","Date","type","Person","firstName","phoneNumber","onClick","catch","error","Persons","map","App","setPersons","showAll","newRequest","notificationMessage","setNotificationMessage","useEffect","initialPersons","newNotification","Object","assign","setTimeout","personsToShow","filter","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b6ccdb6a.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst BASE_URL = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(BASE_URL);\r\n  return request.then(response => response.data)\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(BASE_URL, newObject);\r\n  return request.then(response => response.data)\r\n};\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${BASE_URL}/${id}`)\r\n  return request;\r\n};\r\n\r\nconst updatePerson = (id, updatedObject) => {\r\n  const request = axios.put(`${BASE_URL}/${id}`, updatedObject)\r\n  return request;\r\n}\r\n\r\nconst phonesService = {getAll, create, deletePerson, updatePerson};\r\nexport default phonesService;","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n  const {text, action} = message;\r\n\r\n  if (text === null) {\r\n    return null;\r\n  }\r\n\r\n  const style = action\r\n    ? action\r\n    : 'none';\r\n\r\n  return <div className={style}>{text}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ setShowAll }) => {\r\n  const handleSearchChange = e => setShowAll(e.target.value);\r\n\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleSearchChange}></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { useState } from 'react';\r\nimport phonesService from '../services/phones';\r\n\r\nconst PersonForm = ({persons, setNewRequest, handleNotification}) => {\r\n  const [newName, setNewName] = useState('');\r\n  const [newPhone, setNewPhone] = useState('');\r\n\r\n  const addPerson = (e) => {\r\n    e.preventDefault();\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newPhone,\r\n    }\r\n\r\n    const personExist = persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase());\r\n    const numberExist = persons.find(person => person.number === personObject.number)\r\n\r\n    if (personExist && numberExist) {\r\n      alert(`${personExist.name} is already added to phonebook`);\r\n      return;\r\n    } else if (personExist && !numberExist) {\r\n      const result = window.confirm(`${personExist.name} is already added to phonebook, replace the old number with a new one?`);\r\n      if (result) {\r\n        phonesService\r\n          .updatePerson(personExist.id, personObject)\r\n        setNewRequest(new Date());\r\n        handleNotification('update', personExist.name)\r\n        setNewName('');\r\n        setNewPhone('');\r\n      }\r\n    } else {\r\n      phonesService\r\n        .create(personObject)\r\n      setNewRequest(new Date());\r\n      handleNotification('add', personObject.name)\r\n      setNewName('');\r\n      setNewPhone('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n    <div>\r\n      name: <input type=\"text\" value={newName} onChange={e => setNewName(e.target.value)} />\r\n    </div>\r\n    <div>\r\n      number: <input type=\"tel\" value={newPhone} onChange={e => setNewPhone(e.target.value)} />\r\n    </div>\r\n    <button type=\"submit\">add</button>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\nimport phonesService from '../services/phones';\r\n\r\nconst Person = ({ person, setNewRequest, handleNotification }) => {\r\n\r\n  const handleClickDelete = (id) => {\r\n    const result = window.confirm(`Delete ${person.name}?`);\r\n    if (result) {\r\n      phonesService\r\n        .deletePerson(id)\r\n        .catch(error => handleNotification('error', person.name))\r\n        .then(() => setNewRequest(new Date()))\r\n      setNewRequest(new Date());\r\n      handleNotification('remove', person.name);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li>\r\n      {person.firstName} {person.phoneNumber} {' '}\r\n      <button onClick={() => handleClickDelete(person.id)}>delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, setNewRequest, handleNotification }) => {\r\n  \r\n  return(\r\n    <ul>\r\n    {persons.map((person) => <Person key={person.id} person={person} setNewRequest={setNewRequest} handleNotification={handleNotification} />)}\r\n  </ul>\r\n  )\r\n};\r\n\r\nexport default Persons;\r\n","import React, { useState, useEffect } from 'react';\r\nimport phonesService from './services/phones';\r\nimport Notification from './components/Notification';\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [showAll, setShowAll] = useState('');\r\n  const [newRequest, setNewRequest] = useState(new Date());\r\n  const [notificationMessage, setNotificationMessage] = useState({text: null, action: null});\r\n\r\n  const hookPersons = () => {\r\n    phonesService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n    }\r\n\r\n  useEffect(hookPersons, [newRequest]);\r\n\r\n  const handleNotification = (action, person) => {\r\n    const text = \r\n      action === 'error'\r\n        ? `Information of ${person} has already been removed from server`\r\n        : `${action} ${person}`;\r\n\r\n    const newNotification = {text, action};\r\n    setNotificationMessage(Object.assign(notificationMessage, newNotification));\r\n    setTimeout(() => setNotificationMessage(Object.assign({text: null, action: null})), 5000);\r\n  }\r\n\r\n  const personsToShow = showAll === ''\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(showAll.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notificationMessage}/>\r\n      <Filter setShowAll={setShowAll} />\r\n\r\n      <h2>Add a new</h2>\r\n      <PersonForm persons={persons} setNewRequest={setNewRequest} handleNotification={handleNotification} />\r\n      \r\n      <h2>Numbers</h2>\r\n      <Persons persons={personsToShow} setNewRequest={setNewRequest} handleNotification={handleNotification} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}